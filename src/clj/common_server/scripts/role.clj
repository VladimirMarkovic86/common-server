(ns common-server.scripts.role
  (:require [mongo-lib.core :as mon]
            [common-middle.collection-names :refer [role-cname]]
            [common-middle.role-names :refer [user-admin-rname
                                              user-mod-rname
                                              language-admin-rname
                                              language-mod-rname
                                              role-admin-rname
                                              role-mod-rname
                                              item-admin-rname
                                              item-mod-rname
                                              chat-rname
                                              reports-rname]]
            [common-middle.functionalities :as fns]))

(defn insert-roles
  "Inserts roles"
  []
  (mon/mongodb-insert-many
    role-cname
    [{:role-name user-admin-rname
      :functionalities [fns/user-create
                        fns/user-read
                        fns/user-update
                        fns/user-delete]}
     {:role-name user-mod-rname
      :functionalities [fns/user-read
                        fns/user-update]}
     {:role-name language-admin-rname
      :functionalities [fns/language-create
                        fns/language-read
                        fns/language-update
                        fns/language-delete]}
     {:role-name language-mod-rname
      :functionalities [fns/language-read
                        fns/language-update]}
     {:role-name role-admin-rname
      :functionalities [fns/role-create
                        fns/role-read
                        fns/role-update
                        fns/role-delete]}
     {:role-name role-mod-rname
      :functionalities [fns/role-read
                        fns/role-update]}
     {:role-name item-admin-rname
      :functionalities [fns/item-create
                        fns/item-read
                        fns/item-update
                        fns/item-delete]}
     {:role-name item-mod-rname
      :functionalities [fns/item-read
                        fns/item-update]}
     {:role-name chat-rname
      :functionalities [fns/chat]}
     {:role-name reports-rname
      :functionalities [fns/reports]}
     ]))

